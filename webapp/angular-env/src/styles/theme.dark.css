.theme-dark {
  /* New global tokens (dark) */
  --color-bg: #0b0b0f;
  --color-text: #e5e7eb;
  --color-muted: #a1a1aa;
  --color-border: #2a2a36;
  --color-surface: #111318;
  --color-surface-variant: #1a1d24;
  --color-primary: #64748b;
  --color-focus: #94a3b8;
  --shadow-1: 0 1px 2px rgba(0,0,0,.6);
  --shadow-2: 0 2px 6px rgba(0,0,0,.6);

  /* Back-compat app tokens mapped to new tokens */
  --app-background-color: var(--color-bg);
  --app-text-color: var(--color-text);
  --app-surface-color: var(--color-surface);
  --app-surface-muted: var(--color-surface-variant);
  --app-border-color: var(--color-border);
  --app-placeholder: rgba(255, 255, 255, 0.6);
  --app-link: var(--color-primary);
  --app-focus: var(--color-focus);
  --app-text-muted: var(--color-muted);
  --app-text-subtle: var(--color-muted);

  --mat-table-background-color: var(--app-surface-color);
  --mat-table-row-item-label-text-color: var(--app-text-color);
  --mat-table-header-headline-color: var(--app-text-color);
  --mat-table-row-item-outline-color: var(--app-border-color);

  /* Button tokens (dark) */
  --btn-primary-bg: var(--app-link);
  --btn-primary-hover-bg: var(--app-focus);
  --btn-primary-fg: #ffffff;

  --btn-secondary-bg: var(--app-surface-muted);
  --btn-secondary-hover-bg: var(--app-surface-color);
  --btn-secondary-fg: var(--app-text-color);

  /* Chart tokens */
  --chart-bar-back: var(--app-surface-muted);
  --chart-bar-fill: var(--color-primary);

  /* Angular Material Stepper tokens -> app theme variables */
  --mat-stepper-header-icon-background-color: var(--app-surface-muted);
  --mat-stepper-header-icon-foreground-color: var(--app-text-color);

  --mat-stepper-header-selected-state-icon-background-color: var(--app-focus);
  --mat-stepper-header-selected-state-icon-foreground-color: var(--btn-primary-fg);

  --mat-stepper-header-edit-state-icon-background-color: var(--app-surface-muted);
  --mat-stepper-header-edit-state-icon-foreground-color: var(--app-text-muted);

  --mat-stepper-header-done-state-icon-background-color: var(--app-surface-muted);
  --mat-stepper-header-done-state-icon-foreground-color: var(--app-text-muted);

  --mat-stepper-header-label-text-color: var(--app-text-muted);
  --mat-stepper-header-label-selected-state-text-color: var(--app-focus);

  /* Remove hover/focus fill under headers */
  --mat-stepper-header-hover-state-layer-color: transparent;
  --mat-stepper-header-focus-state-layer-color: transparent;
}
